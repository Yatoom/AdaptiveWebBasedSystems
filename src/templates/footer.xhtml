<?xml version="1.0" encoding="UTF-8"?>
<footer class="footer" xmlns:gale="http://gale.tue.nl/adaptation">
    <div class="grid">
        <gale:if expr="(#{General#count, 0}) != null &amp;&amp; (#{General#last, &quot;&quot;}) != null &amp;&amp; (#{General#last2, &quot;&quot;}) != null">
            <gale:then>
                <gale:for var="layer1" expr="${General->(child)}" sort="${#order}">
                    <gale:if expr="${General#count} == 0">
                        <gale:then>
                            <gale:if expr="${%layer1} == ${.}">
                                <gale:then>
                                    <gale:if expr="(#{General#count, 1}) != null &amp;&amp; !${General#last}.equals(&quot;&quot;)">
                                        <gale:then>
                                            <!-- Previous -->
                                            <gale:a><i class="fa fa-arrow-left" aria-hidden="true"></i> <gale:variable expr="${General#last2}" /><gale:attr-variable name="href" expr="${General#last}"/></gale:a>
                                        </gale:then>
                                    </gale:if>
                                </gale:then>
                            </gale:if>
                            <gale:if expr="${%layer1#suitability}">
                                <gale:then>
                                    <gale:if expr="(#{General#last, &quot;%layer1&quot;}) != null &amp;&amp; (#{General#last2, ${%layer1?title}}) != null"></gale:if>
                                </gale:then>
                            </gale:if>
                        </gale:then>
                    </gale:if>

                    <gale:if expr="${General#count} == 1 &amp;&amp; ${%layer1#suitability} &amp;&amp; ${%layer1} != ${.}">
                        <gale:then>
                            <gale:if expr="(#{General#count, 2}) != null"></gale:if>
                            <!-- next -->
                            <gale:a style="float: right;"><gale:variable expr="${%layer1?title}" /> <i class="fa fa-arrow-right" aria-hidden="true"></i><gale:attr-variable name="href" expr="&quot;%layer1&quot;"/></gale:a>
                        </gale:then>
                    </gale:if>


                    <gale:for var="layer2" expr="${%layer1->(child)}" sort="${#order}">
                        <gale:if expr="${General#count} == 0">
                            <gale:then>
                                <gale:if expr="${%layer2} == ${.}">
                                    <gale:then>
                                        <gale:if expr="(#{General#count, 1}) != null &amp;&amp; !${General#last}.equals(&quot;&quot;)">
                                            <gale:then>
                                                <!-- previous -->
                                                <gale:a><i class="fa fa-arrow-left" aria-hidden="true"></i> <gale:variable expr="${General#last2}" /><gale:attr-variable name="href" expr="${General#last}"/></gale:a>
                                            </gale:then>
                                        </gale:if>
                                    </gale:then>
                                </gale:if>
                                <gale:if expr="${%layer2#suitability}">
                                    <gale:then>
                                        <gale:if expr="(#{General#last, &quot;%layer2&quot;}) != null &amp;&amp;(#{General#last2, ${%layer2?title}}) != null"></gale:if>
                                    </gale:then>
                                </gale:if>
                            </gale:then>
                        </gale:if>
                        <gale:if expr="${General#count} == 1 &amp;&amp; ${%layer2#suitability} &amp;&amp; ${%layer2} != ${.}">
                            <gale:then>
                                <gale:if expr="(#{General#count, 2}) != null"></gale:if>
                                <!-- next -->
                                <gale:a style="float: right;"><gale:variable expr="${%layer2?title}" /> <i class="fa fa-arrow-right" aria-hidden="true"></i><gale:attr-variable name="href" expr="&quot;%layer2&quot;"/></gale:a>
                            </gale:then>
                        </gale:if>




                        <gale:for var="layer3" expr="${%layer2->(child)}" sort="${#order}">
                            <gale:if expr="${General#count} == 0">
                                <gale:then>
                                    <gale:if expr="${%layer3} == ${.}">
                                        <gale:then>
                                            <gale:if expr="(#{General#count, 1}) != null &amp;&amp; !${General#last}.equals(&quot;&quot;)">
                                                <gale:then>
                                                    <!-- previous -->
                                                    <gale:a><i class="fa fa-arrow-left" aria-hidden="true"></i> <gale:variable expr="${General#last2}" /><gale:attr-variable name="href" expr="${General#last}"/></gale:a>
                                                </gale:then>
                                            </gale:if>
                                        </gale:then>
                                    </gale:if>
                                    <gale:if expr="${%layer3#suitability}">
                                        <gale:then>
                                            <gale:if expr="(#{General#last, &quot;%layer3&quot;}) != null &amp;&amp; (#{General#last2, ${%layer3?title}}) != null"></gale:if>
                                        </gale:then>
                                    </gale:if>
                                </gale:then>
                            </gale:if>
                            <gale:if expr="${General#count} == 1 &amp;&amp; ${%layer3#suitability} &amp;&amp; ${%layer3} != ${.}">
                                <gale:then>
                                    <gale:if expr="(#{General#count, 2}) != null"></gale:if>
                                    <!-- next -->
                                    <gale:a style="float: right;"><gale:variable expr="${%layer3?title}" /> <i class="fa fa-arrow-right" aria-hidden="true"></i><gale:attr-variable name="href" expr="&quot;%layer3&quot;"/></gale:a>
                                </gale:then>
                            </gale:if>


                        </gale:for>
                    </gale:for>
                </gale:for>
            </gale:then>
        </gale:if>
    </div>
</footer>
